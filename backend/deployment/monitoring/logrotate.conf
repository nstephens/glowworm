# GlowWorm Log Rotation Configuration
# This configuration manages log rotation for GlowWorm application logs

# Application logs
/opt/glowworm/backend/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 glowworm glowworm
    postrotate
        systemctl reload glowworm-api > /dev/null 2>&1 || true
    endscript
}

# Nginx logs
/var/log/nginx/glowworm_*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        systemctl reload nginx > /dev/null 2>&1 || true
    endscript
}

# Systemd journal logs (if using journald)
/var/log/journal/glowworm-api.service {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    create 644 systemd-journal systemd-journal
}




